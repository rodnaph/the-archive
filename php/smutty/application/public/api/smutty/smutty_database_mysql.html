<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC2 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Wed, 18 Apr 2007 22:57:57 +0900">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Smutty_Database_MySQL (Smutty)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Smutty</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../smutty/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../smutty/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../smutty/smutty_database_mysql.html" target="_top">No frames</a>
</div>
<div class="small_links">
View: <a href="/code/viewClass/Smutty_Database_Mysql">Source Code</a>
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Smutty.Smutty_Database_MySQL</div>

<h1>Class Smutty_Database_MySQL</h1>

<pre class="tree"><a href="../smutty/smutty_object.html">Smutty_Object</a><br>  |<br>  +--<a href="../smutty/smutty_database.html">Smutty_Database</a><br>       |<br>       +--<strong>Smutty_Database_MySQL</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Smutty_Database_MySQL</strong><br>extends <a href="../smutty/smutty_database.html">Smutty_Database</a>

</p>

<div class="comment" id="overview_description"><p>
 an implementation of the database class for MySQL</p><p>/</p></div>

<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#cnn">$cnn</a></p><p class="description">the db connection */</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#connect()">connect</a>()</p><p class="description">
 connects to the database. </p></td>
</tr>
<tr>
<td class="type"> String</td>
<td class="description"><p class="name"><a href="#escape()">escape</a>(String string)</p><p class="description">
 takes a string and escapes any characters in it that need
 to be for the current database
</p></td>
</tr>
<tr>
<td class="type"> String</td>
<td class="description"><p class="name"><a href="#getCurrentDate()">getCurrentDate</a>()</p><p class="description">
 returns the current date/time, formatted properly for the
 current database
</p></td>
</tr>
<tr>
<td class="type"> String</td>
<td class="description"><p class="name"><a href="#getDateFormat()">getDateFormat</a>()</p><p class="description">
 returns the date format for this db. </p></td>
</tr>
<tr>
<td class="type"> String</td>
<td class="description"><p class="name"><a href="#getError()">getError</a>()</p><p class="description">
 returns the last error to occur
</p></td>
</tr>
<tr>
<td class="type"> String</td>
<td class="description"><p class="name"><a href="#getFieldsSql()">getFieldsSql</a>(String table)</p><p class="description">
 returns the sql used to eatract field information the resultset should have the fields:
   - name (field name)
   - type (field type)
   - nullable (yes/no string)
</p></td>
</tr>
<tr>
<td class="type"> int</td>
<td class="description"><p class="name"><a href="#getInsertId()">getInsertId</a>(String table)</p><p class="description">
 returns the auto generated id for the last record inserted.
</p></td>
</tr>
<tr>
<td class="type"> <a href="../smutty/smutty_database_result.html">Smutty_Database_Result</a></td>
<td class="description"><p class="name"><a href="#query()">query</a>(String sql)</p><p class="description">
 executes a query on the database. </p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#script()">script</a>(String file)</p><p class="description">
 run an sql script against the database. </p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#update()">update</a>(String sql)</p><p class="description">
 executes an sql statement on the database and returns a
 boolean indicating if it went well or not
</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from Smutty.Smutty_Database</th></tr>
<tr><td><a href="../smutty/smutty_database.html#connect()">connect</a>, <a href="../smutty/smutty_database.html#escape()">escape</a>, <a href="../smutty/smutty_database.html#getCurrentDate()">getCurrentDate</a>, <a href="../smutty/smutty_database.html#getDateFormat()">getDateFormat</a>, <a href="../smutty/smutty_database.html#getError()">getError</a>, <a href="../smutty/smutty_database.html#getFieldsSql()">getFieldsSql</a>, <a href="../smutty/smutty_database.html#getInsertId()">getInsertId</a>, <a href="../smutty/smutty_database.html#getInstance()">getInstance</a>, <a href="../smutty/smutty_database.html#query()">query</a>, <a href="../smutty/smutty_database.html#script()">script</a>, <a href="../smutty/smutty_database.html#update()">update</a></td></tr></table>

<h2 id="detail_field">Field Detail</h2>
<h3 id="cnn">cnn</h3>
<code class="signature">public  mixed <strong>$cnn</strong> = null</code>
<div class="details">
<p>the db connection */</p></div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<h3 id="connect()">connect</h3>
<code class="signature">public  boolean <strong>connect</strong>()</code>
<div class="details">
<p>
 connects to the database.  db config information could be
 db independent so this method must read this info from
 the Smutty_Config class itself.
</p><dl>
<dt>Returns:</dt>
<dd>indicating success</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#connect">Go to code</a><hr>

<h3 id="escape()">escape</h3>
<code class="signature">public  String <strong>escape</strong>(String string)</code>
<div class="details">
<p>
 takes a string and escapes any characters in it that need
 to be for the current database
</p><dl>
<dt>Parameters:</dt>
<dd>string - the string to escape</dd>
<dt>Returns:</dt>
<dd>escaped string</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#escape">Go to code</a><hr>

<h3 id="getCurrentDate()">getCurrentDate</h3>
<code class="signature">public  String <strong>getCurrentDate</strong>()</code>
<div class="details">
<p>
 returns the current date/time, formatted properly for the
 current database
</p><dl>
<dt>Returns:</dt>
<dd>current datetime string</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#getCurrentDate">Go to code</a><hr>

<h3 id="getDateFormat()">getDateFormat</h3>
<code class="signature">public  String <strong>getDateFormat</strong>()</code>
<div class="details">
<p>
 returns the date format for this db.  the format should
 be ready for the date() function to use
</p><dl>
<dt>Returns:</dt>
<dd>date format string</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#getDateFormat">Go to code</a><hr>

<h3 id="getError()">getError</h3>
<code class="signature">public  String <strong>getError</strong>()</code>
<div class="details">
<p>
 returns the last error to occur
</p><dl>
<dt>Returns:</dt>
<dd>desc of last error</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#getError">Go to code</a><hr>

<h3 id="getFieldsSql()">getFieldsSql</h3>
<code class="signature">public  String <strong>getFieldsSql</strong>(String table)</code>
<div class="details">
<p>
 returns the sql used to eatract field information</p><p> the resultset should have the fields:
   - name (field name)
   - type (field type)
   - nullable (yes/no string)
</p><dl>
<dt>Parameters:</dt>
<dd>table - the table to get fields for</dd>
<dt>Returns:</dt>
<dd>sql string</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#getFieldsSql">Go to code</a><hr>

<h3 id="getInsertId()">getInsertId</h3>
<code class="signature">public  int <strong>getInsertId</strong>(String table)</code>
<div class="details">
<p>
 returns the auto generated id for the last record inserted.
 for compat you need to specify the table the record was
 inserted for (though this is not used for some dbs)
</p><dl>
<dt>Parameters:</dt>
<dd>table - table record was inserted into</dd>
<dt>Returns:</dt>
<dd>the inserted id</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#getInsertId">Go to code</a><hr>

<h3 id="query()">query</h3>
<code class="signature">public  <a href="../smutty/smutty_database_result.html">Smutty_Database_Result</a> <strong>query</strong>(String sql)</code>
<div class="details">
<p>
 executes a query on the database.  it should return an
 class which extends the Smutty_Database_Result class
</p><dl>
<dt>Parameters:</dt>
<dd>sql - the query to execute</dd>
<dt>Returns:</dt>
<dd>query result</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#query">Go to code</a><hr>

<h3 id="script()">script</h3>
<code class="signature">public  boolean <strong>script</strong>(String file)</code>
<div class="details">
<p>
 run an sql script against the database.  returns a
 boolean indicating success.
</p><dl>
<dt>Parameters:</dt>
<dd>file - the script to run</dd>
<dt>Returns:</dt>
<dd>if script ran ok</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#script">Go to code</a><hr>

<h3 id="update()">update</h3>
<code class="signature">public  boolean <strong>update</strong>(String sql)</code>
<div class="details">
<p>
 executes an sql statement on the database and returns a
 boolean indicating if it went well or not
</p><dl>
<dt>Parameters:</dt>
<dd>sql - the query to execute</dd>
<dt>Returns:</dt>
<dd>success</dd>
</dl>
</div>

<a href="/code/viewClass/Smutty_Database_MySQL#update">Go to code</a><hr>

<div class="header">
<h1>Smutty</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../smutty/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../smutty/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../smutty/smutty_database_mysql.html" target="_top">No frames</a>
</div>
<div class="small_links">
View: <a href="/code/viewClass/Smutty_Database_Mysql">Source Code</a>
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://phpdoctor.sourceforge.net/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>