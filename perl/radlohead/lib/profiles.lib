#############################################################
#############################################################
##
##  profiles.lib
##
#############################################################
#############################################################

use strict;

#############################################################

use constant DB_FILE => BASE . "files/counters/profiles_views";

#############################################################

my %db;

#############################################################
#############################################################

#############################################################
##
##  get_views(username) : scalar
##
#############################################################

sub get_views {

  my ($username) = @_;

  open_db();
  my $views = $db{uc($username)};
  close_db();

  $views = 0 unless $views;

  return $views;

}

#############################################################
##
##  inc_views(username)
##
#############################################################

sub inc_views {

  my ($username) = @_;

  open_db();
  $db{uc($username)}++;
  close_db();

}

#############################################################
##
##  open_db();
##  close_db();
##
#############################################################

sub open_db { dbmopen %db, DB_FILE, 0666; }

sub close_db { dbmclose %db; }

#############################################################

1;

#############################################################