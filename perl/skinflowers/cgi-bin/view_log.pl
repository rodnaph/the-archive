###############################################################################################
###############################################################################################
##
##  view_log.pl
##
###############################################################################################
###############################################################################################

use strict;

use constant LOG => 'data/log.txt';

use FileHandle qw( getline );

###############################################################################################

require 'lib/stdout.lib';

###############################################################################################

print get_header( 'Log' );

my $fh = new FileHandle( LOG );
while( my $line = $fh->getline() ) {

  my @pairs = split( /:##:/, $line );
  print '<p><hr /><table border="1">';
  foreach my $pair ( @pairs ) {
    my ( $name, $value ) = split( /:#:/, $pair );
    print "<tr><th>$name</th><td>$value</td></tr>";
  }
  print '</table></p>';

}

print get_footer();

###############################################################################################
###############################################################################################